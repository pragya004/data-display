{"version":3,"sources":["Components/IsIncorrect.js"],"names":["useStyles","makeStyles","theme","headingColor","backgroundColor","tableRowHover","StyledTableRow","withStyles","root","TableRow","IsIncorrect","classes","useState","setIsItemSelected","liRefs","incorrectData","setIncorrectData","isMounted","useRef","a","fetch","data","json","results","console","log","useEffect","getIncorrectRecipes","current","handleChange","e","target","checked","orderDirection","setOrderDirection","valueToOrderBy","setValueToOrderBy","descendingComparator","b","orderBy","order","createSortHandler","property","event","isAscending","handleRequestSort","length","className","component","Paper","aria-label","padding","onChange","color","inputProps","align","active","direction","onClick","rowArray","comparator","stabalizedRowArray","map","el","index","sort","sortedRowInformation","recipe","idx","hover","ref","name","moment","last_updated","date","format","cogs","Math","round","cost_price","sale_price","gross_margin","display","flexDirection","label","style","id"],"mappings":"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","file":"static/js/6.2288ac98.chunk.js","sourcesContent":["import React, {useState, useEffect, useRef} from 'react'\r\nimport NothingToDisplay from './NothingToDisplay'\r\nimport { Checkbox, withStyles, makeStyles, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Paper, TableSortLabel } from '@material-ui/core'\r\nimport Chip from '@material-ui/core/Chip';\r\nimport moment from 'moment'\r\n\r\nconst useStyles = makeStyles(theme => (\r\n    {\r\n            headingColor : {\r\n                backgroundColor :'#94b3f6',\r\n            },\r\n            tableRowHover: {\r\n                \"&:hover\": {\r\n                        backgroundColor: \"#dad9df !important\",\r\n                    }\r\n            }\r\n    }));\r\n\r\n\r\nconst StyledTableRow = withStyles((theme) => ({\r\n    root: {\r\n      '&:nth-of-type(odd)': {\r\n        backgroundColor: '#f4f3f9',\r\n      },\r\n    },\r\n  }))(TableRow);\r\n\r\n\r\nexport default function IsIncorrect() {\r\n\r\n    const classes = useStyles()\r\n    const [isChecked, setIsChecked] = useState()\r\n    const [isItemSelected , setIsItemSelected] = useState(false)\r\n    const [disabledData, setDisabledData] = useState([])\r\n    const liRefs = []\r\n\r\n    const [incorrectData, setIncorrectData] = useState([])\r\n    const isMounted = useRef(false)\r\n\r\n\r\n    async function getIncorrectRecipes(){\r\n        try{\r\n            const data = await fetch('https://beta.eagleowl.in/api/v1/mock/organization/18/outlet/18/recipe/recipes/?page=1&is_incorrect=true')\r\n            const json = await data.json()\r\n            setIncorrectData(json.results)\r\n        }\r\n        catch(err){\r\n            console.log(err)\r\n        }\r\n        \r\n    }\r\n    \r\n    useEffect(()=>{\r\n        getIncorrectRecipes()\r\n    },[])\r\n\r\n    useEffect(()=>{\r\n        if(isMounted.current){\r\n            console.log(incorrectData)\r\n        }\r\n        else{\r\n            isMounted.current = true\r\n        }\r\n    },[incorrectData])\r\n\r\n\r\n    \r\n    const handleChange = (e) => {\r\n        setIsItemSelected(e.target.checked);\r\n      };\r\n\r\n    const handleRowChange = (event) => {\r\n\r\n        setIsItemSelected(event.target.checked);\r\n        const check = event.target.checked\r\n\r\n            // for(var i=0; i<liRefs.length;i++){\r\n            //     liRefs[i].firstChild.firstChild.checked = true\r\n            // }\r\n    } \r\n\r\n    \r\n    const [orderDirection, setOrderDirection] = useState('asc')\r\n    const [valueToOrderBy, setValueToOrderBy] = useState('name')\r\n\r\n\r\n    function descendingComparator(a,b, orderBy){\r\n        if(b[orderBy] < a[orderBy]){\r\n            return -1;\r\n        }\r\n        if(b[orderBy] > a[orderBy]){\r\n            return 1;\r\n        }\r\n        return 0;\r\n    }\r\n\r\n    function getComparator(order,orderBy){\r\n        return order === 'desc'\r\n        ? (a,b) => descendingComparator(a,b, orderBy)\r\n        : (a,b) => -descendingComparator(a,b, orderBy);\r\n    }\r\n    \r\n    const handleRequestSort = (event,property) => {\r\n        const isAscending = valueToOrderBy === property && orderDirection === \"asc\";\r\n        setValueToOrderBy(property);\r\n        setOrderDirection(isAscending ? 'desc' : 'asc');\r\n    }\r\n\r\n    const createSortHandler = (property) => (event) => {\r\n        handleRequestSort(event,property);\r\n    }\r\n\r\n    const sortedRowInformation = (rowArray, comparator) => {\r\n        const stabalizedRowArray = rowArray.map((el,index) => [el,index]);\r\n        stabalizedRowArray.sort((a,b) => {\r\n            const order = comparator(a[0], b[0]);\r\n            if(order !== 0) return order;\r\n            return a[1] - b[1];\r\n        })\r\n        return stabalizedRowArray.map((el) => el[0]);\r\n    }\r\n\r\n\r\n    return(\r\n        <>\r\n            {\r\n                (isMounted.current ? ( incorrectData.length === 0 ? <NothingToDisplay /> :\r\n\r\n                    <TableContainer className=\"rounded-0\" component = {Paper}>\r\n                        <Table aria-label = \"disabled-recipes\">\r\n                            <TableHead>\r\n                                <TableRow className = {classes.headingColor}>\r\n                                    <TableCell className=\"selectCheckbox\" padding=\"checkbox\">\r\n                                    <Checkbox\r\n                                        onChange={handleRowChange}\r\n                                        color=\"primary\"\r\n                                        inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                                    />\r\n                                    </TableCell>\r\n                                    <TableCell key=\"name\" align=\"left\">\r\n                                        <TableSortLabel \r\n                                            active={valueToOrderBy === \"name\"}\r\n                                            direction={valueToOrderBy === \"name\" ? orderDirection: 'asc'}\r\n                                            onClick = {createSortHandler(\"name\")}\r\n                                        >\r\n                                            NAME\r\n                                        </TableSortLabel>\r\n                                    </TableCell>\r\n                                    <TableCell key=\"lastUpdated\" align=\"left\">\r\n                                        <TableSortLabel \r\n                                            active={valueToOrderBy === \"lastUpdated\"}\r\n                                            direction={valueToOrderBy === \"lastUpdated\" ? orderDirection: 'asc'}\r\n                                            onClick = {createSortHandler(\"lastUpdated\")}\r\n                                        >\r\n                                            LAST UPDATED\r\n                                        </TableSortLabel>\r\n                                    </TableCell>\r\n                                    <TableCell key=\"cogs\" align=\"left\">\r\n                                        <TableSortLabel \r\n                                            active={valueToOrderBy === \"cogs\"} \r\n                                            direction={valueToOrderBy === \"cogs\" ? orderDirection: 'asc'}\r\n                                            onClick = {createSortHandler(\"cogs\")}\r\n                                        >\r\n                                            COGS\r\n                                        </TableSortLabel>\r\n                                    </TableCell>\r\n                                    <TableCell key=\"costPrice\" align=\"left\">\r\n                                        <TableSortLabel \r\n                                            active={valueToOrderBy === \"costPrice\"} \r\n                                            direction={valueToOrderBy === \"costPrice\" ? orderDirection: 'asc'}\r\n                                            onClick = {createSortHandler(\"costPrice\")}\r\n                                        >\r\n                                            COST PRICE\r\n                                        </TableSortLabel>\r\n                                    </TableCell>\r\n                                    <TableCell key=\"salePrice\" align=\"left\">\r\n                                        <TableSortLabel \r\n                                            active={valueToOrderBy === \"salePrice\"} \r\n                                            direction={valueToOrderBy === \"salePrice\" ? orderDirection: 'asc'}\r\n                                            onClick = {createSortHandler(\"salePrice\")}\r\n                                        >\r\n                                            SALE PRICE\r\n                                        </TableSortLabel>\r\n                                    </TableCell>\r\n                                    <TableCell key=\"grossMargin\" align=\"left\">\r\n                                        <TableSortLabel \r\n                                            active={valueToOrderBy === \"grossMargin\"} \r\n                                            direction={valueToOrderBy === \"grossMargin\" ? orderDirection: 'asc'}\r\n                                            onClick = {createSortHandler(\"grossMargin\")}\r\n                                        >\r\n                                            GROSS MARGIN\r\n                                        </TableSortLabel>\r\n                                    </TableCell>\r\n                                    <TableCell align=\"left\">TABS / ACTIONS</TableCell>\r\n                                </TableRow>\r\n                            </TableHead>\r\n                            <TableBody>\r\n                                {\r\n                                    sortedRowInformation(incorrectData, getComparator(orderDirection,valueToOrderBy)).map( (recipe,idx) => (\r\n                                        <StyledTableRow key={recipe.id} hover className={classes.tableRowHover} onClick={handleChange}>\r\n                                            <TableCell className=\"selectCheckbox\" padding=\"checkbox\">\r\n                                                <Checkbox\r\n                                                    ref = {ref => (liRefs[idx] = ref)}\r\n                                                    onClick = {handleChange}\r\n                                                    color=\"primary\"\r\n                                                    inputProps={{ 'aria-label': 'secondary checkbox' }}\r\n                                                    className = \"heyCheckbox\"\r\n                                                />\r\n                                            </TableCell>\r\n                                            <TableCell align=\"left\">{recipe.name}</TableCell>\r\n                                            <TableCell align=\"left\">{moment(recipe.last_updated.date).format(\"MMM Do,YYYY\")}</TableCell>\r\n                                            <TableCell align=\"right\">{recipe.cogs}</TableCell>\r\n                                            <TableCell align=\"right\">{Math.round(recipe.cost_price)}</TableCell>\r\n                                            <TableCell align=\"right\">{Math.round(recipe.sale_price)}</TableCell>\r\n                                            <TableCell align=\"right\">{Math.round(recipe.gross_margin)}</TableCell>\r\n                                            <TableCell align=\"left\" display=\"flex\"  flexDirection=\"row\"><Chip label=\"Indian\" className=\"mr-2\"  style={{backgroundColor:\"#f4f4d0\"}} /><Chip label=\"Italian\"  style={{backgroundColor:\"#f8f4ab\"}}/></TableCell>\r\n                                        </StyledTableRow>\r\n                                    ))\r\n                                }\r\n                            </TableBody>\r\n                        </Table>\r\n                    </TableContainer>\r\n                    ) : null)\r\n                }\r\n        </>\r\n\r\n    )\r\n}\r\n"],"sourceRoot":""}