{"ast":null,"code":"import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { VictoryChart } from 'victory-chart';\nimport { ChartContainer } from '../ChartContainer';\nimport { ChartLegend, ChartLegendPosition } from '../ChartLegend';\nimport { ChartCommonStyles } from '../ChartTheme';\nimport { getClassName, getComputedLegend, getLabelTextSize, getPaddingForSide, getTheme } from '../ChartUtils';\nexport const Chart = _a => {\n  var {\n    ariaDesc,\n    ariaTitle,\n    children,\n    legendAllowWrap = false,\n    legendComponent = React.createElement(ChartLegend, null),\n    legendData,\n    legendPosition = ChartCommonStyles.legend.position,\n    padding,\n    themeColor,\n    themeVariant,\n    // destructure last\n    theme = getTheme(themeColor, themeVariant),\n    containerComponent = React.createElement(ChartContainer, null),\n    legendOrientation = theme.legend.orientation,\n    height = theme.chart.height,\n    width = theme.chart.width\n  } = _a,\n      rest = __rest(_a, [\"ariaDesc\", \"ariaTitle\", \"children\", \"legendAllowWrap\", \"legendComponent\", \"legendData\", \"legendPosition\", \"padding\", \"themeColor\", \"themeVariant\", \"theme\", \"containerComponent\", \"legendOrientation\", \"height\", \"width\"]);\n\n  const defaultPadding = {\n    bottom: getPaddingForSide('bottom', padding, theme.chart.padding),\n    left: getPaddingForSide('left', padding, theme.chart.padding),\n    right: getPaddingForSide('right', padding, theme.chart.padding),\n    top: getPaddingForSide('top', padding, theme.chart.padding)\n  }; // Clone so users can override container props\n\n  const container = React.cloneElement(containerComponent, Object.assign(Object.assign({\n    desc: ariaDesc,\n    title: ariaTitle,\n    theme\n  }, containerComponent.props), {\n    className: getClassName({\n      className: containerComponent.props.className\n    }) // Override VictoryContainer class name\n\n  }));\n  const legend = React.cloneElement(legendComponent, Object.assign({\n    data: legendData,\n    orientation: legendOrientation,\n    theme\n  }, legendComponent.props)); // Returns a computed legend\n\n  const getLegend = () => {\n    if (!legend.props.data) {\n      return null;\n    }\n\n    let dx = 0;\n    let dy = 0;\n    let xAxisLabelHeight = 0;\n    let legendTitleHeight = legend.props.title ? 10 : 0; // Adjust for axis label\n\n    React.Children.toArray(children).map(child => {\n      if (child.type.role === 'axis' && child.props.label && !child.props.dependentAxis) {\n        xAxisLabelHeight = getLabelTextSize({\n          text: child.props.label,\n          theme\n        }).height + 10;\n        legendTitleHeight = 0;\n      }\n    });\n\n    if (legendPosition === ChartLegendPosition.bottom) {\n      dy += xAxisLabelHeight + legendTitleHeight;\n    } else if (legendPosition === ChartLegendPosition.bottomLeft) {\n      dy += xAxisLabelHeight + legendTitleHeight;\n      dx = -10;\n    }\n\n    return getComputedLegend({\n      allowWrap: legendAllowWrap,\n      chartType: 'chart',\n      dx,\n      dy,\n      height,\n      legendComponent: legend,\n      padding: defaultPadding,\n      position: legendPosition,\n      theme,\n      width\n    });\n  }; // Note: containerComponent is required for theme\n\n\n  const VictoryChartWithContainerComponent = VictoryChart;\n  return React.createElement(VictoryChartWithContainerComponent, Object.assign({\n    containerComponent: container,\n    height: height,\n    padding: defaultPadding,\n    theme: theme,\n    width: width\n  }, rest), children, getLegend());\n};\nChart.displayName = 'Chart';\nhoistNonReactStatics(Chart, VictoryChart);","map":{"version":3,"sources":["../../../../src/components/Chart/Chart.tsx"],"names":[],"mappings":"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","sourceRoot":"","sourcesContent":["import { __rest } from \"tslib\";\nimport * as React from 'react';\nimport hoistNonReactStatics from 'hoist-non-react-statics';\nimport { VictoryChart } from 'victory-chart';\nimport { ChartContainer } from '../ChartContainer';\nimport { ChartLegend, ChartLegendPosition } from '../ChartLegend';\nimport { ChartCommonStyles } from '../ChartTheme';\nimport { getClassName, getComputedLegend, getLabelTextSize, getPaddingForSide, getTheme } from '../ChartUtils';\nexport const Chart = (_a) => {\n    var { ariaDesc, ariaTitle, children, legendAllowWrap = false, legendComponent = React.createElement(ChartLegend, null), legendData, legendPosition = ChartCommonStyles.legend.position, padding, themeColor, themeVariant, \n    // destructure last\n    theme = getTheme(themeColor, themeVariant), containerComponent = React.createElement(ChartContainer, null), legendOrientation = theme.legend.orientation, height = theme.chart.height, width = theme.chart.width } = _a, rest = __rest(_a, [\"ariaDesc\", \"ariaTitle\", \"children\", \"legendAllowWrap\", \"legendComponent\", \"legendData\", \"legendPosition\", \"padding\", \"themeColor\", \"themeVariant\", \"theme\", \"containerComponent\", \"legendOrientation\", \"height\", \"width\"]);\n    const defaultPadding = {\n        bottom: getPaddingForSide('bottom', padding, theme.chart.padding),\n        left: getPaddingForSide('left', padding, theme.chart.padding),\n        right: getPaddingForSide('right', padding, theme.chart.padding),\n        top: getPaddingForSide('top', padding, theme.chart.padding)\n    };\n    // Clone so users can override container props\n    const container = React.cloneElement(containerComponent, Object.assign(Object.assign({ desc: ariaDesc, title: ariaTitle, theme }, containerComponent.props), { className: getClassName({ className: containerComponent.props.className }) // Override VictoryContainer class name\n     }));\n    const legend = React.cloneElement(legendComponent, Object.assign({ data: legendData, orientation: legendOrientation, theme }, legendComponent.props));\n    // Returns a computed legend\n    const getLegend = () => {\n        if (!legend.props.data) {\n            return null;\n        }\n        let dx = 0;\n        let dy = 0;\n        let xAxisLabelHeight = 0;\n        let legendTitleHeight = legend.props.title ? 10 : 0;\n        // Adjust for axis label\n        React.Children.toArray(children).map((child) => {\n            if (child.type.role === 'axis' && child.props.label && !child.props.dependentAxis) {\n                xAxisLabelHeight = getLabelTextSize({ text: child.props.label, theme }).height + 10;\n                legendTitleHeight = 0;\n            }\n        });\n        if (legendPosition === ChartLegendPosition.bottom) {\n            dy += xAxisLabelHeight + legendTitleHeight;\n        }\n        else if (legendPosition === ChartLegendPosition.bottomLeft) {\n            dy += xAxisLabelHeight + legendTitleHeight;\n            dx = -10;\n        }\n        return getComputedLegend({\n            allowWrap: legendAllowWrap,\n            chartType: 'chart',\n            dx,\n            dy,\n            height,\n            legendComponent: legend,\n            padding: defaultPadding,\n            position: legendPosition,\n            theme,\n            width\n        });\n    };\n    // Note: containerComponent is required for theme\n    const VictoryChartWithContainerComponent = VictoryChart;\n    return (React.createElement(VictoryChartWithContainerComponent, Object.assign({ containerComponent: container, height: height, padding: defaultPadding, theme: theme, width: width }, rest),\n        children,\n        getLegend()));\n};\nChart.displayName = 'Chart';\nhoistNonReactStatics(Chart, VictoryChart);\n//# sourceMappingURL=Chart.js.map"]},"metadata":{},"sourceType":"module"}